import{_ as U,r as n,o as a,e as A,w as o,b as t,f as c,c as _,d as S,t as m,F as C,a as r,i as D}from"./index-6f9e8229.js";const N={props:[],emits:["close","change"],components:{},setup(){},data(){return{newProduct:{code:"",name:"",description:""},err:[]}},created(){},mounted(){},methods:{saveVariant(){this.err=[],this.newProduct.code.trim().length==0&&this.err.push("Code is required"),this.newProduct.name.trim().length==0&&this.err.push("Name is required"),this.newProduct.description.trim().length==0&&this.err.push("Description is required"),!(this.err.length>0)&&this.$axios.post(this.$serverURL+"api/products/web-admin/product-info",{action:"new-product",tokenString:localStorage.getItem("userToken"),data:{code:this.newProduct.code,name:this.newProduct.name,description:this.newProduct.description}}).then(i=>{i.data.code==200&&this.$emit("change"),i.data.code==202&&this.err.push("Product Code is already in use other Product Item")}).catch(i=>{})}}};function T(i,e,I,L,s,u){const v=n("v-btn"),p=n("v-card-title"),P=n("v-img"),f=n("v-col"),g=n("v-text-field"),b=n("v-textarea"),h=n("v-card-text"),w=n("v-spacer"),x=n("v-icon"),V=n("v-card-actions"),k=n("v-list-item"),l=n("v-list"),y=n("v-card"),R=n("v-row");return a(),A(y,null,{default:o(()=>[t(p,{"fixed-header":""},{default:o(()=>[c(" Variant Registration "),t(v,{icon:"mdi-close",onClick:e[0]||(e[0]=d=>i.$emit("close")),class:"text-white bg-danger float-end",fab:""})]),_:1}),t(h,null,{default:o(()=>[t(R,null,{default:o(()=>[t(f,{cols:"12",md:"4"},{default:o(()=>[t(P,{src:this.$serverURL+"resources/Logo.svg"},null,8,["src"])]),_:1}),t(f,{cols:"12",md:"8"},{default:o(()=>[t(y,{elevation:"0"},{default:o(()=>[t(p,null,{default:o(()=>[c(" Basic Information ")]),_:1}),t(h,null,{default:o(()=>[t(g,{modelValue:s.newProduct.name,"onUpdate:modelValue":e[1]||(e[1]=d=>s.newProduct.name=d),"persistent-hint":"",hint:"Name",class:"mb-3"},null,8,["modelValue"]),t(g,{modelValue:s.newProduct.code,"onUpdate:modelValue":e[2]||(e[2]=d=>s.newProduct.code=d),"persistent-hint":"",hint:"Code",class:"mb-3"},null,8,["modelValue"]),t(b,{modelValue:s.newProduct.description,"onUpdate:modelValue":e[3]||(e[3]=d=>s.newProduct.description=d),label:"Description"},null,8,["modelValue"])]),_:1}),t(V,null,{default:o(()=>[t(w),t(v,{onClick:e[4]||(e[4]=d=>u.saveVariant()),variant:"outlined",class:"bg-success"},{default:o(()=>[t(x,{class:"me-2"},{default:o(()=>[c("mdi-content-save")]),_:1}),c("Save Product")]),_:1})]),_:1}),t(h,null,{default:o(()=>[t(l,null,{default:o(()=>[(a(!0),_(C,null,S(s.err,(d,B)=>(a(),A(k,null,{default:o(()=>[c(m(B+1)+". "+m(d),1)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const j=U(N,[["render",T]]),z={components:{productAdd:j},setup(){},created(){this.get_Products("")},mounted(){},data(){return{isAdding:!1,search:"",products:[],itemsPerPage:5,data:[],paginate:[],curPage:1,chunkSize:10}},methods:{set_Paginate(i){this.paginate=[];for(let e=0;e<i.length;e+=this.chunkSize)this.paginate.push(i.slice(e,e+this.chunkSize));this.curPage=1},open_Product(i){this.$router.push({name:"Dashboard Product Item",params:{code:i}})},get_Products(i){this.isAdding=!1,this.$axios.post(this.$serverURL+"api/products/web-admin/list",{mode:i==""?"all":"search",text:i,userToken:localStorage.getItem("userToken")}).then(e=>{e.data.code==200&&(this.products=this.data=e.data.data,this.set_Paginate(this.data))}).catch(e=>{})}}},q={class:"list-group list-group-flush"},F={class:"list-group-item"},K=r("li",{class:"list-group-item d-flex justify-content-between align-items-center"},[r("div",null," Product Details ")],-1),$={class:"d-flex align-items-center"},E=["src"],O=["src"],G={class:"ms-3"},H={class:"fw-bold mb-1"},J={class:"text-muted mb-0"},M={class:"my-1"},Q=["onClick"],W={class:"list-group-item d-flex justify-content-center align-items-center"};function X(i,e,I,L,s,u){const v=n("v-card-title"),p=n("v-btn"),P=n("v-spacer"),f=n("v-card-actions"),g=n("v-text-field"),b=n("v-icon"),h=n("v-pagination"),w=n("v-card-text"),x=n("v-card"),V=n("productAdd"),k=n("v-dialog");return a(),_(C,null,[t(x,null,{default:o(()=>[t(v,null,{default:o(()=>[c(m(i.$route.meta.contentTitle),1)]),_:1}),t(f,null,{default:o(()=>[t(p,{"prepend-icon":"mdi-refresh",onClick:e[0]||(e[0]=()=>{s.search="",u.get_Products("")}),class:"bg-info border"},{default:o(()=>[c(" Refresh ")]),_:1}),t(P),t(p,{"prepend-icon":"mdi-plus",onClick:e[1]||(e[1]=()=>{s.isAdding=!0}),class:"bg-info border"},{default:o(()=>[c(" Add Product ")]),_:1})]),_:1}),t(w,null,{default:o(()=>[r("ul",q,[r("li",F,[t(g,{clearable:"",modelValue:s.search,"onUpdate:modelValue":e[2]||(e[2]=l=>s.search=l),label:"Search","prepend-icon":"mdi-magnify",onKeyup:e[3]||(e[3]=D(l=>u.get_Products(s.search),["enter"]))},null,8,["modelValue"])]),K,(a(!0),_(C,null,S(s.paginate[s.curPage-1],l=>(a(),_("li",{class:"list-group-item d-flex justify-content-between align-items-center",key:l.name},[r("div",$,[l.thumbnail!==null?(a(),_("img",{key:0,src:this.$serverURL+"resources/"+l.thumbnail.filename,alt:"",style:{width:"100px"},class:"rounded-circle"},null,8,E)):(a(),_("img",{key:1,src:this.$errorImage,alt:"",style:{width:"100px"},class:"rounded-circle"},null,8,O)),r("div",G,[r("p",H,m(l.name),1),r("small",J,m(l.code),1),r("p",null,m(l.description),1),r("div",M,[r("button",{class:"btn btn-sm btn-success",onClick:y=>u.open_Product(l.code)},[t(b,null,{default:o(()=>[c("mdi-folder")]),_:1}),c(" Open ")],8,Q)])])])]))),128)),r("li",W,[t(h,{modelValue:s.curPage,"onUpdate:modelValue":e[4]||(e[4]=l=>s.curPage=l),length:s.paginate.length,"total-visible":7},null,8,["modelValue","length"])])])]),_:1})]),_:1}),t(k,{modelValue:s.isAdding,"onUpdate:modelValue":e[7]||(e[7]=l=>s.isAdding=l),fullscreen:""},{default:o(()=>[t(V,{onChange:e[5]||(e[5]=l=>u.get_Products(this.search)),onClose:e[6]||(e[6]=l=>s.isAdding=!1)})]),_:1},8,["modelValue"])],64)}const Z=U(z,[["render",X]]);export{Z as default};
