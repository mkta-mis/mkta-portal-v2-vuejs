import{b as k,N as v}from"./breadCrumbs-16d1040f.js";import{P as y}from"./Products_Thumbnail-40c13edd.js";import{_ as f,r as _,o as l,c as n,b as u,a as i,f as m,F as h,d as C,t as A,e as B,g as O}from"./index-a03fb613.js";const P={props:{data:[],initClass:{type:String,default:"col-12 col-md-6"}},data(){return{sub_Categories:[],selected_Categories:["All"],products:[],filtered_products:[]}},components:{Products_Thumbnail:y,BreadCrumbs:k},setup(){},created(){this.get_Sub_Categories(),this.get_AllProducts()},mounted(){},methods:{get_Sub_Categories(){this.$axios.post(this.$serverURL+"api/categories/"+this.$route.params.category,{}).then(t=>{t.data.code==200&&(this.sub_Categories=t.data.subCat)}).catch(t=>{})},get_AllProducts(){this.$axios.post(this.$serverURL+"api/categories/products/"+this.$route.params.category,{Token:localStorage.getItem("userToken")}).then(t=>{if(t.data.code==200){this.products=t.data.products,this.filtered_products=[];for(let e=0;e<this.products.length;e++){const o=this.products[e];let d=[],s=[];for(let c=0;c<o.categories.length;c++){const a=o.categories[c];d.push(a.category_id),d.push(a.category_id)}o.categories=d,o.categories_name=s,this.filtered_products.push(o)}}}).catch(t=>{})},filter_Categories(t){if(t=="All"){this.selected_Categories=[],this.selected_Categories.push("All");for(let e=0;e<this.sub_Categories.length;e++){const o=this.sub_Categories[e];this.selected_Categories.push(o.id)}return}if(this.selected_Categories.indexOf(t)==-1)this.selected_Categories.push(t),this.selected_Categories.length==this.sub_Categories.length&&this.selected_Categories.push("All");else{let e=this.selected_Categories.indexOf(t);this.selected_Categories.splice(e,1),e=this.selected_Categories.indexOf("All"),this.selected_Categories.splice(e,1)}}}},N={class:"container text-black",style:{"margin-top":"-1.5rem!important"}},$={class:"row"},S={class:"col-12 col-md-4"},T={class:"list-group rounded-0"},V=i("li",{class:"list-group-item bg-black text-white fs-5"},"Sub-Categories",-1),w=["onClick"],I={class:"col-12 col-md-8"},L={class:"row"};function F(t,e,o,d,s,c){const a=_("BreadCrumbs"),g=_("v-icon"),b=_("Products_Thumbnail");return l(),n("div",N,[u(a),i("div",$,[i("div",S,[i("div",T,[V,i("li",{class:"list-group-item cursor-hand",onClick:e[0]||(e[0]=r=>c.filter_Categories("All"))},[u(g,{color:s.selected_Categories.indexOf("All")!=-1?"green":"black",icon:s.selected_Categories.indexOf("All")!=-1?"mdi-checkbox-marked-circle":"mdi-checkbox-blank-circle-outline"},null,8,["color","icon"]),m(" All here ")]),(l(!0),n(h,null,C(s.sub_Categories,(r,x)=>(l(),n("li",{class:"list-group-item cursor-hand",onClick:p=>c.filter_Categories(r.id)},[u(g,{color:s.selected_Categories.indexOf(r.id)!=-1||s.selected_Categories.indexOf("All")!=-1?"green":"black",icon:s.selected_Categories.indexOf(r.id)!=-1||s.selected_Categories.indexOf("All")!=-1?"mdi-checkbox-marked-circle":"mdi-checkbox-blank-circle-outline"},null,8,["color","icon"]),m(" "+A(r.name),1)],8,w))),256))])]),i("div",I,[i("div",L,[(l(!0),n(h,null,C(s.filtered_products,(r,x)=>(l(),n(h,null,[s.selected_Categories.indexOf("All")!=-1||r.categories.filter(p=>s.selected_Categories.includes(p)).length>0?(l(),B(b,{key:0,data:r},null,8,["data"])):O("",!0)],64))),256))])])])])}const R=f(P,[["render",F]]),U={data(){return{}},components:{NavBar:v,Category_Products_Container:R},setup(){},created(){},mounted(){},methods:{}},D=i("br",null,null,-1);function E(t,e,o,d,s,c){const a=_("NavBar"),g=_("Category_Products_Container");return l(),n(h,null,[u(a),D,u(g)],64)}const G=f(U,[["render",E]]);export{G as default};
