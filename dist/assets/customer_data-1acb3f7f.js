import{_ as U,r as o,o as c,e as i,w as e,b as t,g as A,f as a,c as R,F as T,d as y,t as V}from"./index-a03fb613.js";const N={emits:[],components:{},props:{},data(){return{customerToken:this.$route.params.customerToken,reset:{password:"",isVisible:!1},Account:{id:-1,name:"",email:"",isClient:0,hasDashboard:1,isActive:1},Orig_Data:{name:"",email:"",isClient:0,hasDashboard:1,isActive:1}}},setup(){},created(){this.get_Account_Info()},mounted(){},methods:{}};function O(r,n,_,P,s,g){const k=o("v-card-actions"),d=o("v-text-field"),b=o("v-card-text"),p=o("v-btn"),w=o("v-spacer"),u=o("v-icon"),C=o("v-card");return c(),i(C,{flat:""},{default:e(()=>[t(k),t(b,null,{default:e(()=>[t(d,{class:"my-1",hint:"Name","persistent-hint":"",modelValue:s.Account.name,"onUpdate:modelValue":n[0]||(n[0]=m=>s.Account.name=m)},null,8,["modelValue"]),t(d,{class:"my-1",hint:"Email","persistent-hint":"",modelValue:s.Account.email,"onUpdate:modelValue":n[1]||(n[1]=m=>s.Account.email=m),readonly:!0},null,8,["modelValue"]),s.reset.isVisible?(c(),i(d,{key:0,readonly:!0,modelValue:s.reset.password,"onUpdate:modelValue":n[2]||(n[2]=m=>s.reset.password=m),"persistent-hint":"",hint:"Password"},null,8,["modelValue"])):A("",!0)]),_:1}),t(k,null,{default:e(()=>[t(p,{onClick:n[3]||(n[3]=m=>r.reset_password()),class:"bg-success","prepend-icon":"mdi-account-key"},{default:e(()=>[a("Reset Password")]),_:1}),A("",!0),t(w),s.Account.name!=s.Orig_Data.name?(c(),i(p,{key:1,class:"bg-success"},{default:e(()=>[t(u,{class:"me-1"},{default:e(()=>[a("mdi-content-save")]),_:1}),a("Update Account information")]),_:1})):A("",!0)]),_:1})]),_:1})}const D=U(N,[["render",O]]),$={emits:[],components:{},props:{},data(){return{customerToken:this.$route.params.customerToken,restricted_Categories:[],categories:[],selected_Categories:null}},setup(){},created(){this.get_Categories(),this.get_Restriction_Categories()},mounted(){},methods:{get_Restriction_Categories(){this.$axios.post(this.$serverURL+"api/customers/web-admin/restriction/fetch/categories",{tokenString:localStorage.getItem("userToken"),customerToken:this.customerToken}).then(r=>{r.data.code==200&&(this.restricted_Categories=r.data.results)}).catch(r=>{})},User_Restriction(r,n){this.$axios.post(this.$serverURL+"api/customers/web-admin/restriction/"+r+"/categories",{tokenString:localStorage.getItem("userToken"),customerToken:this.customerToken,referenceValue:n.id}).then(_=>{this.get_Restriction_Categories(),_.data.code==200&&(this.categories=_.data.data)}).catch(_=>{})},get_Categories(){this.$axios.post(this.$serverURL+"api/categories/web-admin/list",{mode:"parent-only",withs:["thumbnail"]}).then(r=>{r.data.code==200&&(this.categories=r.data.data)}).catch(r=>{})}}};function K(r,n,_,P,s,g){const k=o("v-autocomplete"),d=o("v-btn"),b=o("v-toolbar"),p=o("v-img"),w=o("v-card-title"),u=o("v-card-text"),C=o("v-card"),m=o("v-sheet"),x=o("v-card-item");return c(),i(C,null,{default:e(()=>[t(x,null,{default:e(()=>[t(k,{disabled:s.categories.filter(l=>!s.restricted_Categories.includes(l)).length<=0,modelValue:s.selected_Categories,"onUpdate:modelValue":[n[0]||(n[0]=l=>s.selected_Categories=l),n[1]||(n[1]=()=>{g.User_Restriction("append",s.selected_Categories)})],hint:"Hide all products related to the Categories","persistent-hint":"","item-title":"name","return-object":"",label:"Categories",items:s.categories.filter(l=>!s.restricted_Categories.includes(l))},null,8,["disabled","modelValue","items"]),s.restricted_Categories.length>0?(c(),i(m,{key:0,class:"d-flex flex-wrap"},{default:e(()=>[(c(!0),R(T,null,y(s.restricted_Categories,(l,f)=>(c(),i(m,{class:"ma-2"},{default:e(()=>[t(C,{flat:"",width:"250",class:"h-100 border"},{default:e(()=>[t(p,{src:this.$serverURL+"resources/"+l.thumbnail.filename,cover:"",class:"text-white"},{default:e(()=>[t(b,{color:"rgba(0, 0, 0, 0)",theme:"dark"},{append:e(()=>[t(d,{onClick:()=>{g.User_Restriction("remove",l)},class:"bg-danger",fab:"",size:"x-small",icon:"mdi-close"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["src"]),t(w,{class:"text-center"},{default:e(()=>[a(V(l.name),1)]),_:2},1024),t(u,null,{default:e(()=>[a(V(l.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})):(c(),i(m,{key:1,class:"text-center"},{default:e(()=>[a(" No restricted Categories ")]),_:1}))]),_:1})]),_:1})}const B=U($,[["render",K]]),E={emits:[],components:{},props:{},data(){return{customerToken:this.$route.params.customerToken,restricted_Products:[],products:[],selected_Product:null}},setup(){},created(){this.get_Products(),this.get_Restriction()},mounted(){},methods:{get_Restriction(){this.$axios.post(this.$serverURL+"api/customers/web-admin/restriction/fetch/product-items",{tokenString:localStorage.getItem("userToken"),customerToken:this.customerToken}).then(r=>{r.data.code==200&&(this.restricted_Products=r.data.results)}).catch(r=>{})},User_Restriction(r,n){this.$axios.post(this.$serverURL+"api/customers/web-admin/restriction/"+r+"/product-items",{tokenString:localStorage.getItem("userToken"),customerToken:this.customerToken,referenceValue:n.id}).then(_=>{this.get_Restriction()}).catch(_=>{})},get_Products(){this.$axios.post(this.$serverURL+"api/products/list",{mode:"all",withs:["thumbnail"]}).then(r=>{r.data.code==200&&(this.products=r.data.data)}).catch(r=>{})}}};function H(r,n,_,P,s,g){const k=o("v-autocomplete"),d=o("v-btn"),b=o("v-toolbar"),p=o("v-img"),w=o("v-col"),u=o("v-row"),C=o("v-card-item"),m=o("v-card-title"),x=o("v-card-text"),l=o("v-card"),f=o("v-sheet");return c(),i(l,null,{default:e(()=>[t(C,null,{default:e(()=>[t(k,{disabled:s.products.filter(h=>!s.restricted_Products.includes(h)).length<=0,modelValue:s.selected_Product,"onUpdate:modelValue":[n[0]||(n[0]=h=>s.selected_Product=h),n[1]||(n[1]=()=>{g.User_Restriction("append",s.selected_Product)})],hint:"Hide all products related to the products","persistent-hint":"","item-title":"name","return-object":"",label:"Products",items:s.products.filter(h=>!s.restricted_Products.includes(h))},null,8,["disabled","modelValue","items"]),s.restricted_Products.length>0?(c(),i(f,{key:0,class:"d-flex flex-wrap"},{default:e(()=>[(c(!0),R(T,null,y(s.restricted_Products,(h,I)=>(c(),i(f,{class:"ma-2"},{default:e(()=>[t(l,{flat:"",width:"250",class:"h-100 border"},{default:e(()=>[t(p,{src:this.$serverURL+"resources/"+h.thumbnail.filename,cover:"",class:"text-white"},{default:e(()=>[t(b,{color:"rgba(0, 0, 0, 0)",theme:"dark"},{append:e(()=>[t(d,{onClick:()=>{g.User_Restriction("remove",h)},class:"bg-danger",fab:"",size:"x-small",icon:"mdi-close"},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["src"]),t(C,null,{default:e(()=>[t(u,null,{default:e(()=>[(c(!0),R(T,null,y(h.variants,(S,L)=>(c(),i(w,{cols:"12",sm:"12",md:"3",class:""},{default:e(()=>[t(p,{cover:"",src:this.$serverURL+"resources/"+S.thumbnail.filename},null,8,["src"])]),_:2},1024))),256))]),_:2},1024)]),_:2},1024),t(m,{class:"text-center no-wrap"},{default:e(()=>[a(V(h.name),1)]),_:2},1024),t(x,null,{default:e(()=>[a(V(h.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})):(c(),i(f,{key:1,class:"text-center"},{default:e(()=>[a(" No restricted Products ")]),_:1}))]),_:1})]),_:1})}const j=U(E,[["render",H]]),z={emits:[],components:{},props:{},data(){return{customerToken:this.$route.params.customerToken,restricted_Components:[],components_keys:[],selected_Components:null}},setup(){},created(){this.get_Keys(),this.get_Restriction()},mounted(){},methods:{get_Restriction(){this.selected_Components=null,this.$axios.post(this.$serverURL+"api/customers/web-admin/restriction/fetch/product-components",{tokenString:localStorage.getItem("userToken"),customerToken:this.customerToken}).then(r=>{r.data.code==200&&(this.restricted_Components=r.data.results)}).catch(r=>{})},User_Restriction(r,n){this.$axios.post(this.$serverURL+"api/customers/web-admin/restriction/"+r+"/product-components",{tokenString:localStorage.getItem("userToken"),customerToken:this.customerToken,referenceValue:n}).then(_=>{this.get_Restriction(),_.data.code==200&&(this.components_keys=_.data.data)}).catch(_=>{})},get_Keys(){this.$axios.post(this.$serverURL+"api/customers/web-admin/restriction/fetch/product-components-list",{tokenString:localStorage.getItem("userToken"),customerToken:this.customerToken}).then(r=>{r.data.code==200&&(this.components_keys=r.data.results,["product-measurements-dimensions","product-measurements-weight","product-measurements-volume"].forEach(n=>{this.components_keys.push(n)}))}).catch(r=>{})}}};function F(r,n,_,P,s,g){const k=o("v-autocomplete"),d=o("v-chip"),b=o("v-sheet"),p=o("v-card-item"),w=o("v-card");return c(),i(w,null,{default:e(()=>[t(p,null,{default:e(()=>[t(k,{disabled:s.components_keys.length<=0,modelValue:s.selected_Components,"onUpdate:modelValue":[n[0]||(n[0]=u=>s.selected_Components=u),n[1]||(n[1]=()=>{g.User_Restriction("append",s.selected_Components)})],hint:"Hide all products component related to the Component Keys","persistent-hint":"","item-title":"key","item-value":"key",label:"Component Keys",items:s.components_keys},null,8,["disabled","modelValue","items"]),s.restricted_Components.length>0?(c(),i(b,{key:0,class:"my-2"},{default:e(()=>[(c(!0),R(T,null,y(s.restricted_Components,(u,C)=>(c(),i(d,{class:"m-2","onClick:close":m=>g.User_Restriction("remove",u),closable:"",key:u},{default:e(()=>[a(V(u),1)]),_:2},1032,["onClick:close"]))),128))]),_:1})):(c(),i(b,{key:1,class:"text-center"},{default:e(()=>[a(" No restricted Component Keys ")]),_:1}))]),_:1})]),_:1})}const J=U(z,[["render",F]]),q={emits:[],components:{Restriction_Categories:B,Restriction_Products:j,Restriction_Component_Keys:J},props:{},data(){return{customerToken:this.$route.params.customerToken,selectedTabs:null,Tabs:["Categories","Product Item","Product Components"]}},setup(){},created(){},mounted(){},methods:{}};function G(r,n,_,P,s,g){const k=o("v-card-subtitle"),d=o("v-col"),b=o("v-tab"),p=o("v-tabs"),w=o("Restriction_Categories"),u=o("v-window-item"),C=o("Restriction_Products"),m=o("Restriction_Component_Keys"),x=o("v-window"),l=o("v-row");return c(),i(l,{class:"",height:"500"},{default:e(()=>[t(d,{cols:"12"},{default:e(()=>[t(k,null,{default:e(()=>[a(" Restrict the access of the customer(s) in the Categories, Product Items, and Product Components. ")]),_:1})]),_:1}),t(d,{cols:"12",sm:"12"},{default:e(()=>[t(p,{modelValue:s.selectedTabs,"onUpdate:modelValue":n[0]||(n[0]=f=>s.selectedTabs=f),color:"deep-purple-accent-4"},{default:e(()=>[(c(!0),R(T,null,y(s.Tabs,(f,h)=>(c(),i(b,{value:f},{default:e(()=>[a(V(f),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(d,{cols:"12",sm:"12"},{default:e(()=>[t(x,{direction:"vertical",modelValue:s.selectedTabs,"onUpdate:modelValue":n[1]||(n[1]=f=>s.selectedTabs=f),class:"w-100"},{default:e(()=>[t(u,{value:"Categories"},{default:e(()=>[t(w)]),_:1}),t(u,{value:"Product Item"},{default:e(()=>[t(C)]),_:1}),t(u,{value:"Product Components"},{default:e(()=>[t(m)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const M=U(q,[["render",G]]),Q={emits:[],components:{CustomerInformation:D,CustomerRestrictions:M},props:{},data(){return{selectedOptions:"customer-information",Tabs:[{key:"customer-information",title:"Customer Information",icon:"mdi-clipboard-account"},{key:"customer-restriction",title:"Restrictions",icon:"mdi-shield-half-full"}],customerToken:this.$route.params.customerToken,reset:{password:"",isVisible:!1},Account:{id:-1,name:"",email:"",isClient:0,hasDashboard:1,isActive:1},Orig_Data:{name:"",email:"",isClient:0,hasDashboard:1,isActive:1}}},setup(){},created(){this.get_Account_Info()},mounted(){},methods:{reset_password(){this.$axios.post(this.$serverURL+"api/customers/web-admin/reset-password",{tokenString:localStorage.getItem("userToken"),userToken:this.customerToken}).then(r=>{r.data.code==200&&(this.reset.isVisible=!0,this.reset.password=r.data.results)}).catch(r=>{})},get_Account_Info(){this.$axios.post(this.$serverURL+"api/customers/web-admin/list",{mode:"exact-token",tokenString:localStorage.getItem("userToken"),data:{userToken:this.customerToken}}).then(r=>{r.data.code==200&&(this.Account=r.data.results,this.Orig_Data=JSON.parse(JSON.stringify(r.data.results)))}).catch(r=>{})}}};function W(r,n,_,P,s,g){const k=o("v-icon"),d=o("v-btn"),b=o("router-link"),p=o("v-col"),w=o("v-tab"),u=o("v-tabs"),C=o("v-spacer"),m=o("v-card-actions"),x=o("v-card-item"),l=o("v-text-field"),f=o("v-window-item"),h=o("CustomerRestrictions"),I=o("v-window"),S=o("v-row"),L=o("v-card");return c(),i(L,{style:{"min-height":"80vh"}},{default:e(()=>[t(x,null,{default:e(()=>[t(S,null,{default:e(()=>[t(p,{xs:"12",sm:"12"},{default:e(()=>[t(b,{to:{name:"Dashboard User",params:{}}},{default:e(()=>[t(d,{color:"purple"},{default:e(()=>[t(k,null,{default:e(()=>[a("mdi-chevron-left")]),_:1}),a("Back")]),_:1})]),_:1})]),_:1}),t(p,{xs:"12"},{default:e(()=>[t(u,{modelValue:s.selectedOptions,"onUpdate:modelValue":n[0]||(n[0]=v=>s.selectedOptions=v)},{default:e(()=>[(c(!0),R(T,null,y(s.Tabs,(v,X)=>(c(),i(w,{value:v.key},{default:e(()=>[t(k,{class:"me-2"},{default:e(()=>[a(V(v.icon),1)]),_:2},1024),a(V(v.title),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(p,{xs:"12",sm:"12"},{default:e(()=>[t(I,{direction:"vertical",modelValue:s.selectedOptions,"onUpdate:modelValue":n[6]||(n[6]=v=>s.selectedOptions=v)},{default:e(()=>[t(f,{value:"customer-information"},{default:e(()=>[t(x,null,{default:e(()=>[t(m,null,{default:e(()=>[t(C),t(d,{onClick:n[1]||(n[1]=v=>g.get_Account_Info()),"prepend-icon":"mdi-refresh",variant:"outlined",class:"bg-primary"},{default:e(()=>[a("Refresh")]),_:1}),t(d,{onClick:n[2]||(n[2]=v=>g.reset_password()),class:"bg-success","prepend-icon":"mdi-account-key"},{default:e(()=>[a("Reset Password")]),_:1})]),_:1})]),_:1}),t(l,{class:"my-1",hint:"Name","persistent-hint":"",modelValue:s.Account.name,"onUpdate:modelValue":n[3]||(n[3]=v=>s.Account.name=v)},null,8,["modelValue"]),t(l,{class:"my-1",hint:"Email","persistent-hint":"",modelValue:s.Account.email,"onUpdate:modelValue":n[4]||(n[4]=v=>s.Account.email=v),readonly:!0},null,8,["modelValue"]),s.reset.isVisible?(c(),i(l,{key:0,readonly:!0,modelValue:s.reset.password,"onUpdate:modelValue":n[5]||(n[5]=v=>s.reset.password=v),"persistent-hint":"",hint:"Password"},null,8,["modelValue"])):A("",!0)]),_:1}),t(f,{value:"customer-restriction"},{default:e(()=>[t(h)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}const Z=U(Q,[["render",W]]);export{Z as default};
