import{_ as U,r as e,o as l,e as u,w as s,b as t,f as r,c as P,d as S,t as I,F as B}from"./index-a03fb613.js";const C={emits:[],components:{},props:{},data(){return{temp_data:{title:"",key:"",description:"",isDefault:!1},orig_data:[]}},setup(){},created(){this.get_Permission_Info()},mounted(){},methods:{submit(){this.errors=[],this.temp_data.title==""&&this.errors.push("Title is required"),this.temp_data.key==""&&this.errors.push("Key is required"),this.temp_data.description==""&&this.errors.push("Description is required"),!(this.errors.length>0)&&this.$axios.post(this.$serverURL+"api/permissions/web-admin/action",{tokenString:localStorage.getItem("userToken"),action:"update",permission_key:this.orig_data.id,data:{key:this.temp_data.key,title:this.temp_data.title,description:this.temp_data.description,isDefault:this.temp_data.isDefault?1:0}}).then(a=>{this.get_Permission_Info()}).catch(a=>{})},get_Permission_Info(){this.show_Registration=!1,this.$axios.post(this.$serverURL+"api/permissions/web-admin/get",{mode:"exact-index",permission_id:this.$route.params.permission_id}).then(a=>{a.data.code==200&&(this.temp_data=a.data.results,this.temp_data.isDefault=this.temp_data.isDefault==1,this.orig_data=JSON.parse(JSON.stringify(this.temp_data)))}).catch(a=>{})}}};function N(a,o,T,q,n,f){const d=e("v-icon"),_=e("v-btn"),h=e("router-link"),p=e("v-col"),v=e("v-card-title"),m=e("v-text-field"),k=e("v-textarea"),x=e("v-switch"),c=e("v-card-text"),g=e("v-spacer"),y=e("v-card-actions"),V=e("v-list-item"),D=e("v-list"),b=e("v-card"),w=e("v-row");return l(),u(w,null,{default:s(()=>[t(p,{xs:"12",sm:"12"},{default:s(()=>[t(h,{to:{name:"Dashboard Permission",params:{}}},{default:s(()=>[t(_,{color:"purple"},{default:s(()=>[t(d,null,{default:s(()=>[r("mdi-chevron-left")]),_:1}),r("Back")]),_:1})]),_:1})]),_:1}),t(p,{xs:"12"},{default:s(()=>[t(b,null,{default:s(()=>[t(v,{"fixed-header":""},{default:s(()=>[r(" Update Permission Information ")]),_:1}),t(c,null,{default:s(()=>[t(m,{modelValue:n.temp_data.title,"onUpdate:modelValue":o[0]||(o[0]=i=>n.temp_data.title=i),"prepend-inner-icon":"mdi-format-title","persistent-hint":"",hint:"Title"},null,8,["modelValue"]),t(m,{modelValue:n.temp_data.key,"onUpdate:modelValue":o[1]||(o[1]=i=>n.temp_data.key=i),"prepend-inner-icon":"mdi-key","persistent-hint":"",hint:"Key"},null,8,["modelValue"]),t(k,{modelValue:n.temp_data.description,"onUpdate:modelValue":o[2]||(o[2]=i=>n.temp_data.description=i),"prepend-inner-icon":"mdi-format-align-justify","persistent-hint":"",hint:"Description"},null,8,["modelValue"]),t(x,{color:"primary",modelValue:n.temp_data.isDefault,"onUpdate:modelValue":o[3]||(o[3]=i=>n.temp_data.isDefault=i),label:"Set as default permission"},null,8,["modelValue"])]),_:1}),t(y,null,{default:s(()=>[t(g),t(_,{onClick:f.submit,class:"bg-success"},{default:s(()=>[t(d,{class:"me-1"},{default:s(()=>[r("mdi-account-plus")]),_:1}),r("Upddate Permission")]),_:1},8,["onClick"])]),_:1}),t(c,null,{default:s(()=>[t(D,{density:"compact"},{default:s(()=>[(l(!0),P(B,null,S(a.errors,i=>(l(),u(V,null,{default:s(()=>[r(I(i),1)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const R=U(C,[["render",N]]);export{R as default};
